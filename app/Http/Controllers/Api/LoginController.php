<?phpnamespace App\Http\Controllers\Api;use Illuminate\Http\Request;use Session;use Auth;use Hash;use App\Product;use App\User;use Illuminate\Auth\Events\PasswordReset;class LoginController extends Controller{		/*		--------------------------------------------------------------------------		Login Controller		--------------------------------------------------------------------------				This controller handles authenticating users for the application and		return a response.			*/		public function user_login(Request $request){			$json_response =[];				$user = User::whereIn('user_type', ['customer', 'seller'])->where('email', $request->email)->orWhere('phone', $request->email)->first();				if($user != null){						if(Hash::check($request->password, $user->password)){								if($request->has('remember')){										auth()->login($user, true);									}else{									auth()->login($user, false);									}				$user->is_loggedin=1;				$user->save();				$json_response[] = [					'id' => $user->id,					'name' => $user->name,					'user_type' => $user->user_type					];				$json_response[] = ['success' => true,'msg' => 'success', 'status' => 200];							}else{				$json_response[] = ['error' => true,'msg' => 'Invalid Email or password!', 'status' => 401];			}			}else{				$json_response[] = ['error' => true,'msg' => 'Invalid email or password!', 'status' => 401];		}				return $json_response;			}	
}
